# CH10 数据库恢复技术 //恢复机制的工作原理：数据冗余 

事务的 4 个特性是什么？举例说明其中的一个特性；
- 原子性（Atomicity）//出故障
	事务的原子性强调了一个事务是一个逻辑工作单元，是一个整体，是不可分割的。一个事务所包含的操作要么全部做，要么全部不做。
- 一致性（Consistency）//事务的一致性
	一个事务执行一项数据库操作，事务将使数据库从一种一致性的状态变换成另一种一致性状态。 
	在事务执行前，总是假设数据库是一致的，那么当事务成功执行后，数据库肯定仍然是一致的。//可串行化调度/2PL协议
- 隔离性（Isolation）
	如果每个事务单独执行能保持原子性和一致性，这些事务并发执行也能保持原子性和一致性，则是事务的隔离性。//封锁机制/时间印协议
- 持续性（Durability ）//出故障
	事务的持久性是指一旦事务成功完成，该事务对数据库所施加的所有更新都是永久的。 //数据库备份技术

故障类型有哪些？举例说明；
- 事务内部的故障
	- 有的是可以通过事务程序本身发现的(见下面转账事务的例子)
	- 有的是非预期的
- 系统故障
	称为软故障，是指造成系统停止运转的任何事件，使得系统要重新启动。 
	- 整个系统的正常运行突然被破坏
	- 所有正在运行的事务都非正常终止
	- 不破坏数据库
	- 内存中数据库缓冲区的信息全部丢失
- 介质故障
	称为硬故障，指外存故障
	- 磁盘损坏
	- 磁头碰撞
	- 操作系统的某种潜在错误
	- 瞬时强磁场干扰
- 计算机病毒
	- 一种人为的故障或破坏，是一些恶作剧者研制的一种计算机程序
	- 可以繁殖和传播

基于检查点故障恢复策略；日志文件概念；
- 基于检查点故障恢复策略：
- 日志文件是用来记录事务对数据库的更新操作的文件。
	对于以记录为单位的日志文件，日志文件中需要登记的内容包括：
	- 各个事务的开始标记。
	- 各个事务的结束标记。
	- 各个事务的所有更新操作。

故障恢复策略的工作原理：冗余。
